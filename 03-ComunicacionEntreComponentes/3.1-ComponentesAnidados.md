# Introducci贸n a componentes anidados

## 驴Qu茅 son los Componentes Anidados?
En Angular, los componentes anidados son componentes que est谩n incluidos dentro de otros componentes, estableciendo una relaci贸n de padre-hijo. Este enfoque permite una organizaci贸n modular y reutilizaci贸n de componentes.

**Ventajas principales**:
- **Reutilizaci贸n de l贸gica y dise帽o**: El mismo componente se puede reutilizar en diferentes partes de la aplicaci贸n.
- **Organizaci贸n modular**: Divide la aplicaci贸n en partes peque帽as y manejables.
- **Comunicaci贸n clara**: Los datos fluyen entre componentes utilizando decoradores como `@Input` y `@Output`.

## Ejemplo Conceptual
Imaginemos que queremos construir un panel de usuarios.
- Componente Padre: Un panel principal que muestra la lista de usuarios.
- Componente Hijo: Tarjetas individuales que representan la informaci贸n de cada usuario.

### Estructura Visual de los Componentes Anidados
- [ Panel de Usuarios (Componente Padre) ] 
-  [ Tarjeta de Usuario (Componente Hijo) ] 
-  [ Tarjeta de Usuario (Componente Hijo) ] 
-  [ Tarjeta de Usuario (Componente Hijo) ]

### Funcionalidad
- El Padre (user-panel) pasa datos al Hijo (user-card) mediante input properties.
- El Hijo (user-card) puede notificar al Padre sobre eventos, como un clic, utilizando output events.


## Comunicaci贸n entre Componentes
- **Del Padre al Hijo (Input)**
    - El componente padre env铆a informaci贸n al hijo utilizando el decorador `@Input`.
    - Por ejemplo, el padre puede enviar el nombre, imagen y descripci贸n de cada usuario.
    ```typescript
    <app-user-card [nombre]="usuario.nombre" [imagen]="usuario.imagen"></app-user-card>
    ```

- **Del Hijo al Padre (Output)**
    - El componente hijo puede enviar eventos al padre mediante el decorador `@Output`.
    - Por ejemplo, cuando se hace clic en un bot贸n dentro de la tarjeta, el hijo puede notificar al padre.
    ```typescript
    <app-user-card (onClick)="manejarClic($event)"></app-user-card>
    ```

## Importancia de los Componentes Anidados
- **Eficiencia**: Los componentes hijos se pueden dise帽ar una vez y reutilizar en toda la aplicaci贸n. 
- **Mantenibilidad**: Los cambios en el dise帽o o la l贸gica se realizan solo en el componente hijo. 
- **Escalabilidad**: Facilita que diferentes equipos trabajen de forma independiente en los componentes

 Los componentes anidados son una herramienta poderosa que promueve el desarrollo modular y organizado en Angular, haciendo que las aplicaciones sean m谩s f谩ciles de mantener y escalar.

##  Template-Driven Forms
### 驴Qu茅 son los Template-Driven Forms?
Los Template-Driven Forms son un tipo de formularios en Angular que se construyen principalmente desde la vista (HTML), lo que significa que la l贸gica de control y validaci贸n est谩 estrechamente vinculada a la plantilla. Se utilizan las directivas ngForm y ngModel para gestionar los formularios de forma sencilla.

### Caracter铆sticas Principales
- **Enfoque en la vista**: La l贸gica se define directamente en la plantilla HTML.
- **Vinculaci贸n de datos bidireccional**: Se usa la directiva ngModel para enlazar los datos de la vista con la clase TypeScript.
- **Simplicidad**: Son f谩ciles de usar y entender, ideales para formularios peque帽os.
- **Directivas clave**: `ngForm`, `ngModel`, `ngSubmit`.

### Ejemplo Pr谩ctico
- **Paso 1**: Configura el `FormsModule` en `app.module.ts`:

```typescript
import { FormsModule } from '@angular/forms';

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule, FormsModule],
  bootstrap: [AppComponent]
})

export class AppModule {}
```

- **Paso 2**: Crea la plantilla de un formulario simple:
```html
    <form #formPersona="ngForm" (ngSubmit)="guardar(formPersona.value)">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" name="nombre" [(ngModel)]="persona.nombre" required>
        
        <label for="edad">Edad</label>
        <input type="number" id="edad" name="edad" [(ngModel)]="persona.edad" required>

        <button type="submit">Guardar</button>
    </form>
```

## FormBuilder
### 驴Qu茅 es el FormBuilder?
El FormBuilder es una clase de Angular que permite la creaci贸n de formularios reactivos de forma m谩s sencilla y eficiente. Facilita la creaci贸n de FormGroup y FormControl, reduciendo la cantidad de c贸digo repetitivo.

### Caracter铆sticas principales:
- **Facilita la creaci贸n de formularios**: Reduce el c贸digo necesario para crear formularios. 
- **Definici贸n clara de las validaciones**: Define validaciones desde la creaci贸n de los campos. 
- **Uso de objetos y arreglos**: Facilita la creaci贸n de estructuras de formularios din谩micos.

### Ejemplo Pr谩ctico
- **Paso 1**: Configura el `ReactiveFormsModule` en `app.module.ts`:
```typescript
import { ReactiveFormsModule } from '@angular/forms';

@NgModule({
  declarations: [AppComponent],
  imports: [BrowserModule, ReactiveFormsModule],
  bootstrap: [AppComponent]
})
export class AppModule {}
```

- **Paso 2**: Crea el formulario usando `FormBuilder` en la clase del componente:
```typescript
import { FormBuilder, FormGroup } from '@angular/forms';

export class AppComponent {
  formulario: FormGroup;

  constructor(private fb: FormBuilder) {
    this.formulario = this.fb.group({
      nombre: [''],
      edad: ['']
    });
  }

  guardar() {
    console.log(this.formulario.value);
  }
}
```

- **Paso 3**: Conecta la vista con el formulario:
```html
<form [formGroup]="formulario" (ngSubmit)="guardar()">
  <label for="nombre">Nombre</label>
  <input type="text" id="nombre" formControlName="nombre">
  
  <label for="edad">Edad</label>
  <input type="number" id="edad" formControlName="edad">

  <button type="submit">Guardar</button>
</form>
```


## Template Reference Variables
### 驴Qu茅 son las Template Reference Variables?
Las Template Reference Variables son variables que permiten acceder a elementos del DOM desde la plantilla HTML. Se definen con `#variable` y permiten acceder a las propiedades de los elementos HTML.

### Caracter铆sticas Principales
- **Acceso a elementos DOM**: Se pueden capturar elementos HTML directamente desde la plantilla.
- **Interacci贸n con Angular**: Usadas en combinaci贸n con `@ViewChild` para acceder a los elementos desde la clase.
- **Aplicaci贸n en componentes hijos**: Pueden hacer referencia a componentes hijos.

### Ejemplo Pr谩ctico
- **Paso 1**: Declara la variable de referencia en la plantilla:
```html
<input #miCuadro type="text" placeholder="Escribe aqu铆">
<button (click)="cambiarColor()">Cambiar color</button>
```

- **Paso 2**: Usa la variable de referencia con `@ViewChild` en la clase TypeScript:
```typescript
import { Component, ElementRef, ViewChild } from '@angular/core';

export class AppComponent {
  @ViewChild('miCuadro') cuadro!: ElementRef;

  cambiarColor() {
    this.cuadro.nativeElement.style.backgroundColor = 'yellow';
  }
}
```

## Validaciones de Formularios
### 驴Qu茅 son las validaciones?
Las validaciones aseguran que los formularios tengan entradas de datos correctas. En Angular, se utiliza la clase Validators para aplicar reglas de validaci贸n, garantizando que los datos ingresados cumplan con ciertos criterios.

### Tipos de Validaciones
- **Requerido**: Verifica que un campo no est茅 vac铆o (`Validators.required`).
- **M铆nima longitud**: Verifica que el campo tenga una cantidad m铆nima de caracteres (`Validators.minLength()`).
- **M谩xima longitud**: Establece un l铆mite de caracteres (`Validators.maxLength()`).
- **Patrones**: Verifica que el campo siga un patr贸n espec铆fico (`Validators.pattern()`).
- **Validaci贸n personalizada**: Permite definir validaciones personalizadas mediante funciones.

## Ejemplo Pr谩ctico
- **Paso 1**: Configurar las validaciones al crear el `FormGroup`:
```typescript
import { FormBuilder, Validators } from '@angular/forms';

export class AppComponent {
  formulario = this.fb.group({
    nombre: ['', [Validators.required, Validators.minLength(3)]],
    email: ['', [Validators.required, Validators.email]]
  });

  constructor(private fb: FormBuilder) {}
}
```

- **Paso 2**: Mostrar mensajes de error en la plantilla:
```html
<input type="text" formControlName="nombre">
<div *ngIf="formulario.get('nombre')?.errors?.required">El nombre es requerido</div>
<div *ngIf="formulario.get('nombre')?.errors?.minlength">El nombre debe tener al menos 3 caracteres</div>
```